<!DOCTYPE HTML>
<html>

<head>
  <script src="config/config.js"></script>
  <script src="common/common.js"></script>
  <style type="text/css"></style>
  <meta content="no-siteapp" http-equiv="Cache-Control">
  <link media="handheld" rel="alternate">
  <!-- end 云适配 -->
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>发布新职位-招聘服务-拉勾网-最专业的互联网招聘平台</title>
  <meta name="description" content="拉勾网是3W旗下的互联网领域垂直招聘网站,互联网职业机会尽在拉勾网">
  <meta name="keywords"
    content="拉勾,拉勾网,拉勾招聘,拉钩, 拉钩网 ,互联网招聘,拉勾互联网招聘, 移动互联网招聘, 垂直互联网招聘, 微信招聘, 微博招聘, 拉勾官网, 拉勾百科,跳槽, 高薪职位, 互联网圈子, IT招聘, 职场招聘, 猎头招聘,O2O招聘, LBS招聘, 社交招聘, 校园招聘, 校招,社会招聘,社招">
  <meta content="QIQ6KC1oZ6" name="baidu-site-verification">
  <link href="style/images/favicon.ico" rel="Shortcut Icon">
  <link href="style/css/style.css" type="text/css" rel="stylesheet">
  <link href="style/css/external.min.css" type="text/css" rel="stylesheet">
  <link href="style/css/popup.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="node_modules/element-ui/lib/theme-chalk/index.css">
  <script src="node_modules/vue/dist/vue.min.js"></script>
  <script src="node_modules/vue-resource/dist/vue-resource.min.js"></script>
  <script src="node_modules/vue2-editor/dist/vue2-editor.js"></script>
  <script src="node_modules/element-ui/lib/index.js"></script>
  <script src="node_modules/jquery/dist/jquery.min.js"></script>
  <script src="style/js/jquery.lib.min.js" type="text/javascript"></script>
  <link rel="stylesheet" href="style/css/element.css">
  <!--[if lte IE 8]>
    <script type="text/javascript" src="style/js/excanvas.js"></script>
<![endif]-->
  <style>
    .department {
      border-bottom: 1px dashed #e0e0e0;
      padding-bottom: 25px;
    }

    #container .el-input__inner {
      width: 380px;
      height: 46px;
    }

    .el-form-item.is-success .el-input__inner,
    .el-form-item.is-success .el-input__inner:focus,
    .el-form-item.is-success .el-textarea__inner,
    .el-form-item.is-success .el-textarea__inner:focus {
      border-color: #91cebe;
    }
  </style>
  <link rel="stylesheet" href="style/css/ui.css">
  <link rel="stylesheet" href="style/css/window.css">
</head>

<body>
  <div id="body" v-cloak>
    <div id="header">
      <div class="wrapper">
        <a class="logo" href="index.html">
          <img width="229" height="43" alt="拉勾招聘-专注互联网招聘" src="style/images/logo.png">
        </a>
        <ul id="navheader" class="reset">
          <li><a href="index.html">首页</a></li>
          <li><a href="myhome.html">公司</a></li>
          <li>
            <a rel="nofollow" href="positions.html">简历管理</a>
          </li>
          <li class="current"><a rel="nofollow" href="create.html">发布职位</a></li>
        </ul>
        <dl class="collapsible_menu">
          <dt>
            <span>{{easyname}}</span>
            <span class="red dn" id="noticeDot-1"></span>
            <i></i>
          </dt>
          <dd style="display: none;"><a href="positions.html">我发布的职位</a></dd>
          <dd style="display: none;"><a href="positions.html">我收到的简历</a></dd>
          <dd class="btm" style="display: none;"><a href="myhome.html">我的公司主页</a></dd>
          <dd style="display: none;"><a href="accountBind.html">帐号设置</a></dd>
          <dd class="logout" style="display: none;"><a rel="nofollow" href="login.html">退出</a></dd>
        </dl>
      </div>
    </div>
    <!-- end #header -->
    <div id="container">
      <div class="sidebar">
        <a class="btn_create" href="create.html">发布新职位</a>
        <dl class="company_center_aside">
          <dt>我收到的简历</dt>
          <dd>
            <a href="http://www.sucaihuo.com/templates">待处理简历</a>
          </dd>
          <dd>
            <a href="canInterviewResumes.html">待定简历</a>
          </dd>
          <dd>
            <a href="haveNoticeResumes.html">已通知面试简历</a>
          </dd>
          <dd>
            <a href="haveRefuseResumes.html">不合适简历</a>
          </dd>
        </dl>
        <dl class="company_center_aside">
          <dt>我发布的职位</dt>
          <dd>
            <a href="positions.html?status=0">有效职位</a>
          </dd>
          <dd>
            <a href="positions.html?status=1">已下线职位</a>
          </dd>
        </dl>
        <div class="subscribe_side mt20">
          <div class="f14">想收到更多更好的简历？</div>
          <div class="f18 mb10">就用拉勾招聘加速助手 </div>
          <div>咨询：<a class="f16" href="mailto:jessica@lagou.com">jessica@lagou.com</a></div>
          <div class="f18 ti2em">010-57286512</div>
        </div>
        <div class="subscribe_side mt20">
          <div class="f14">加入互联网HR交流群</div>
          <div class="f18 mb10">跟同行聊聊</div>
          <div class="f24">338167634</div>
        </div>
      </div>
      <!-- end .sidebar -->
      <div class="content">
        <dl class="company_center_content">
          <dt>
            <h1>
              <em></em>
              发布新职位
            </h1>
          </dt>
          <dd>
            <el-form id="jobForm" :model="job" size="medium" :rules="rules" ref="jobForm" label-width="100px"
              class="demo-ruleForm">
              <el-form-item label="职位类别" prop="job_type">
                <el-select v-model="job.job_sort">
                  <el-option :value="job.job_sort" :label="job.job_sort" :label="jobType.job_sort" class="jobs"
                    v-for="(jobType,index) in jobs" :key="index">
                    <span>{{jobType.name}}</span>
                    <ul class="select_option">
                      <li v-for="(job_sort,sortIndex) in jobType.job_sorts" :key="sortIndex"
                        @click="setJobType(index,sortIndex,jobType.name,job_sort.name)">
                        <span>{{job_sort.name}}</span>
                      </li>
                    </ul>
                  </el-option>
                </el-select>
              </el-form-item>
              <el-form-item label="职位名称" prop="jobName">
                <el-select filterable=true v-model="job.jobName">
                  <el-option v-for="(name,index) in job_names" :key="index" :label="name.name" :value="name.name">
                  </el-option>
                </el-select>
              </el-form-item>
              <el-form-item class="department" label="所属部门">
                <el-col>
                  <el-form-item>
                    <el-input v-model="job.department"></el-input>
                  </el-form-item>
                </el-col>
              </el-form-item>
              <el-form-item label="工作性质" prop="nature">
                <el-radio-group v-model="job.nature">
                  <el-radio-button label="0">全职</el-radio-button>
                  <el-radio-button label="1">兼职</el-radio-button>
                  <el-radio-button label="2">实习</el-radio-button>
                </el-radio-group>
              </el-form-item>
              <el-form-item class="salary" label="报酬范围" prop="type">
                <el-input v-model="job.min_salary" placeholder="最低报酬">
                  <span slot="suffix">k</span>
                </el-input>
                <el-input v-model="job.max_salary" placeholder="最高报酬">
                  <span slot="suffix">k</span>
                </el-input>
              </el-form-item>
              <el-form-item class="department" label="工作城市" prop="city">
                <el-input v-model="job.city" placeholder="请输入工作城市"></el-input>
              </el-form-item>
              <el-form-item label="工作经验" prop="experience">
                <el-select v-model="job.experience">
                  <el-option v-for="(exp,index) in select.experience" :key="index" :label="exp.label"
                    :value="exp.value">
                  </el-option>
                </el-select>
              </el-form-item>
              <el-form-item class="department" label="学历要求" prop="education">
                <el-select v-model="job.education">
                  <el-option v-for="(edu,index) in select.education" :key="index" :label="edu.label" :value="edu.value">
                  </el-option>
                </el-select>
              </el-form-item>
              <el-form-item label="工作诱惑" prop="advantage">
                <el-input v-model="job.advantage" placeholder="20字描述该职位的吸引力"></el-input>
              </el-form-item>
              <el-form-item class="describe" label="工作描述" prop="describe">
                <vue-editor v-model="job.describe" @blur="checkDescribe" @text-change="checkDescribe"></vue-editor>
                <div class="el-form-item__error" v-show="checkDes">
                  请填写工作描述
                </div>
              </el-form-item>
              <el-form-item label="地址" prop="position">
                <el-input v-model="job.position" placeholder="请输入详细的地址"></el-input>
                <div class="work_place f14">我们将在职位详情页以地图方式精准呈现给用户
                  <a id="mapPreview" href="javascript:;">预览地图</a>
                </div>
              </el-form-item>
              <el-form-item>
                <!-- <el-button type="primary">预览</el-button> -->
                <el-button type="lagou" @click="submitForm('jobForm')">发布</el-button>
              </el-form-item>
            </el-form>
          </dd>
        </dl>
      </div>
      <!-- end .content -->
      <div style="display:none;">

        <!--地图弹窗-->
        <div class="popup" id="baiduMap">
          <div class="mb10">点击地图可重新定位公司所在的位置</div>
          <div id="allmap"
            style="overflow: hidden; position: relative; z-index: 0; background-color: rgb(243, 241, 236); color: rgb(0, 0, 0); text-align: left;">
            <div style="overflow: visible; position: absolute; z-index: 0; left: 0px; top: 0px; cursor: grab;">
              <div class="BMap_mask"
                style="position: absolute; left: 0px; top: 0px; z-index: 9; overflow: hidden; width: 0px; height: 0px;">
              </div>
              <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 200;">
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 800;"></div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 700;"></div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 600;"></div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 500;"><label
                    class="BMapLabel" unselectable="on"
                    style="position: absolute; -moz-user-select: none; display: none; cursor: inherit; background-color: rgb(190, 190, 190); border: 1px solid rgb(190, 190, 190); padding: 1px; white-space: nowrap; font: 12px arial,simsun,sans-serif; z-index: -20000; color: rgb(190, 190, 190);">shadow</label>
                </div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 400;"></div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 300;"></div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 201;"></div>
                <div style="position: absolute; height: 0px; width: 0px; left: 0px; top: 0px; z-index: 200;"></div>
              </div>
              <div style="position: absolute; overflow: visible; top: 0px; left: 0px; z-index: 1;">
                <div style="position: absolute; overflow: visible; z-index: -100; left: 0px; top: 0px; display: none;">
                </div>
              </div>
              <div style="position: absolute; overflow: visible; top: 0px; left: 0px; z-index: 2; display: block;">
                <div style="position: absolute; overflow: visible; top: 0px; left: 0px; z-index: 0; display: block;">
                  <canvas
                    style="position: absolute; width: 256px; height: 256px; left: -74px; top: -213px; background: none repeat scroll 0% 0% rgb(243, 241, 236);"
                    width="256" height="256" id="_1_bg_6323_2355_15"></canvas></div>
                <div style="position: absolute; overflow: visible; top: 0px; left: 0px; z-index: 10; display: block;">
                  <canvas style="position: absolute; width: 256px; height: 256px; left: -74px; top: -213px;" width="256"
                    height="256" id="_1_poi_6323_2355_15"></canvas></div>
              </div>
              <div style="position: absolute; overflow: visible; top: 0px; left: 0px; z-index: 3;"></div>
            </div>
            <div
              style="position: absolute; z-index: 1201; top: 10px; right: 10px; width: 17px; height: 16px; background: url(style/images/img/st-close.pngquot) no-repeat scroll 0% 0% transparent; cursor: pointer; display: none;"
              title="退出全景"></div>
            <div
              style="height: 32px; position: absolute; z-index: 30; -moz-user-select: none; bottom: 0px; right: auto; top: auto; left: 1px; display: none;"
              class=" anchorBL"><a title="到百度地图查看此区域" target="_blank" href="http://map.baidu.com/?sr=1"
                style="outline: medium none;"><img src="style/images/copyright_logo.png"
                  style="border:none;width:77px;height:32px"></a></div>
            <div style="position:absolute;z-index:0;top:0px;left:0px;overflow:hidden;visibility:hidden;cursor:-moz-grab"
              id="zoomer">
              <div style="top:0;left:0;" class="BMap_zoomer"></div>
              <div style="top:0;right:0;" class="BMap_zoomer"></div>
              <div style="bottom:0;left:0;" class="BMap_zoomer"></div>
              <div style="bottom:0;right:0;" class="BMap_zoomer"></div>
            </div>
            <div unselectable="on" class=" BMap_stdMpCtrl BMap_stdMpType0 BMap_noprint anchorTL"
              style="width: 62px; height: 186px; bottom: auto; right: auto; top: 10px; left: 10px; position: absolute; z-index: 1100; -moz-user-select: none;">
              <div class="BMap_stdMpPan">
                <div title="向上平移" class="BMap_button BMap_panN"></div>
                <div title="向左平移" class="BMap_button BMap_panW"></div>
                <div title="向右平移" class="BMap_button BMap_panE"></div>
                <div title="向下平移" class="BMap_button BMap_panS"></div>
                <div class="BMap_stdMpPanBg BMap_smcbg"></div>
              </div>
              <div class="BMap_stdMpZoom" style="height: 141px; width: 62px;">
                <div title="放大一级" class="BMap_button BMap_stdMpZoomIn">
                  <div class="BMap_smcbg"></div>
                </div>
                <div title="缩小一级" class="BMap_button BMap_stdMpZoomOut" style="top: 120px;">
                  <div class="BMap_smcbg"></div>
                </div>
                <div class="BMap_stdMpSlider" style="height: 102px;">
                  <div class="BMap_stdMpSliderBgTop" style="height: 102px;">
                    <div class="BMap_smcbg"></div>
                  </div>
                  <div class="BMap_stdMpSliderBgBot" style="top: 19px; height: 87px;"></div>
                  <div title="放置到此级别" class="BMap_stdMpSliderMask"></div>
                  <div title="拖动缩放" class="BMap_stdMpSliderBar" style="cursor: grab; top: 19px;">
                    <div class="BMap_smcbg"></div>
                  </div>
                </div>
                <div class="BMap_zlHolder">
                  <div class="BMap_zlSt">
                    <div class="BMap_smcbg"></div>
                  </div>
                  <div class="BMap_zlCity">
                    <div class="BMap_smcbg"></div>
                  </div>
                  <div class="BMap_zlProv">
                    <div class="BMap_smcbg"></div>
                  </div>
                  <div class="BMap_zlCountry">
                    <div class="BMap_smcbg"></div>
                  </div>
                </div>
              </div>
            </div>
            <div unselectable="on"
              style="bottom: auto; right: 10px; top: 10px; left: auto; white-space: nowrap; cursor: pointer; position: absolute; z-index: 10; -moz-user-select: none;"
              class=" BMap_noprint anchorTR">
              <div style="-moz-user-select: none; float: left;">
                <div
                  style="-moz-user-select: none; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.35); border-left: 1px solid rgb(139, 164, 220); border-top: 1px solid rgb(139, 164, 220); border-bottom: 1px solid rgb(139, 164, 220); background: none repeat scroll 0% 0% rgb(142, 168, 224); padding: 2px 6px; font: bold 12px/1.3em arial,simsun,sans-serif; text-align: center; white-space: nowrap; border-radius: 3px 0px 0px 3px; color: rgb(255, 255, 255);"
                  title="显示普通地图">地图</div>
              </div>
              <div style="-moz-user-select: none; float: left;">
                <div
                  style="-moz-user-select: none; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.35); border-left: 1px solid rgb(139, 164, 220); border-top: 1px solid rgb(139, 164, 220); border-bottom: 1px solid rgb(139, 164, 220); background: none repeat scroll 0% 0% rgb(255, 255, 255); padding: 2px 6px; font-family: arial,simsun,sans-serif; font-style: normal; font-variant: normal; font-size: 12px; line-height: 1.3em; font-size-adjust: none; font-stretch: normal; -moz-font-feature-settings: normal; -moz-font-language-override: normal; text-align: center; white-space: nowrap; color: rgb(0, 0, 0);"
                  title="显示卫星影像">卫星</div>
                <div
                  style="-moz-user-select: none; position: absolute; top: 0px; left: 0px; z-index: -1; display: none;">
                  <div
                    style="border-right:1px solid #8ba4dc;border-bottom:1px solid #8ba4dc;border-left:1px solid #8ba4dc;background:white;font:12px arial,simsun,sans-serif;padding:0 8px 0 6px;line-height:1.6em;box-shadow:2px 2px 3px rgba(0, 0, 0, 0.35)"
                    title="显示带有街道的卫星影像"><span class="BMap_checkbox" "="" checked=" checked"></span><label
                      style="vertical-align: middle; cursor: pointer;">混合</label></div>
                </div>
              </div>
              <div style="-moz-user-select: none; float: left;">
                <div
                  style="-moz-user-select: none; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.35); border-left: 1px solid rgb(139, 164, 220); border-width: 1px; border-style: solid; border-color: rgb(139, 164, 220); background: none repeat scroll 0% 0% rgb(255, 255, 255); padding: 2px 6px; font-family: arial,simsun,sans-serif; font-style: normal; font-variant: normal; font-size: 12px; line-height: 1.3em; font-size-adjust: none; font-stretch: normal; -moz-font-feature-settings: normal; -moz-font-language-override: normal; text-align: center; white-space: nowrap; border-radius: 0px 3px 3px 0px; color: rgb(0, 0, 0);"
                  title="显示三维地图">三维</div>
              </div>
            </div>
            <div unselectable="on" class=" BMap_scaleCtrl BMap_noprint anchorBL"
              style="bottom: 18px; right: auto; top: auto; left: 81px; width: 88px; position: absolute; z-index: 10; -moz-user-select: none;">
              <div unselectable="on" class="BMap_scaleTxt" style="background-color: transparent; color: black;">
                500&nbsp;米</div>
              <div class="BMap_scaleBar BMap_scaleHBar" style="background-color: black;"><img
                  src="style/images/mapctrls.png" style="border:none"></div>
              <div class="BMap_scaleBar BMap_scaleLBar" style="background-color: black;"><img
                  src="style/images/mapctrls.png" style="border:none"></div>
              <div class="BMap_scaleBar BMap_scaleRBar" style="background-color: black;"><img
                  src="style/images/mapctrls.png" style="border:none"></div>
            </div>
            <div unselectable="on" class=" BMap_omCtrl BMap_ieundefined BMap_noprint anchorBR quad4"
              style="width: 13px; height: 13px; bottom: 0px; right: 0px; top: auto; left: auto; position: absolute; z-index: 10; -moz-user-select: none;">
              <div class="BMap_omOutFrame" style="width: 149px; height: 149px;">
                <div class="BMap_omInnFrame"
                  style="bottom: auto; right: auto; top: 5px; left: 5px; width: 142px; height: 142px;">
                  <div class="BMap_omMapContainer"></div>
                  <div class="BMap_omViewMv" style="cursor: grab;">
                    <div class="BMap_omViewInnFrame">
                      <div></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="BMap_omBtn BMap_omBtnClosed" style="bottom: 0px; right: 0px; top: auto; left: auto;"></div>
            </div>
            <div unselectable="on" class=" BMap_cpyCtrl BMap_noprint anchorBL"
              style="cursor: default; white-space: nowrap; -moz-user-select: none; color: black; background: none repeat scroll 0% 0% transparent; font: 11px/15px arial,simsun,sans-serif; bottom: 2px; right: auto; top: auto; left: 4px; position: absolute; z-index: 10;">
              <span _cid="1" style="display: inline;"><span style="font-size:11px">&copy; 2014 Baidu&nbsp;- Data &copy;
                  <a style="display:inline;" href="http://www.navinfo.com/" target="_blank">NavInfo</a> &amp; <a
                    style="display:inline;" href="http://www.cennavi.com.cn/" target="_blank">CenNavi</a> &amp; <a
                    style="display:inline;" href="http://www.365ditu.com/" target="_blank">道道通</a></span></span></div>
          </div>
        </div>
        <!--/#baiduMap-->
      </div>
      <script src="http://api.map.baidu.com/api?v=2.0&amp;ak=A2c1a1ff1fe0750e3290660295aac602"
        type="text/javascript"></script>
      <script
        src="http://api.map.baidu.com/getscript?v=2.0&amp;ak=A2c1a1ff1fe0750e3290660295aac602&amp;services=&amp;t=20140617153133"
        type="text/javascript"></script>
      <script type="text/javascript">
        function showInfo(e) {
          map.clearOverlays();//清除所有覆盖物
          var marker = new BMap.Marker(new BMap.Point(e.point.lng, e.point.lat));  // 创建标注
          marker.addEventListener("mouseup", function (em) {//覆盖物监听事件--释放鼠标时定位覆盖物位置
            var pt = em.point;//移动后重新定位
            gc.getLocation(pt, function (rs) {
              var addComp = rs.addressComponents;
              var label = new BMap.Label("我的坐标：" + em.point.lng + ", " + em.point.lat + "  我的地址：" + addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber, { offset: new BMap.Size(20, -10) });
              // marker.setLabel(label);//新坐标-新地址
              if (rs) {
                var sContent =
                  "&lt;h4 style='margin:0 0 5px 0;padding:0.2em 0'&gt;" + addComp.province + "&lt;/h4&gt;" +
                  "&lt;p style='margin:0;line-height:1.5;font-size:13px;text-indent:2em'&gt;" + rs.address + "&lt;/p&gt;" +
                  "&lt;/div&gt;";
                var infoWindow = new BMap.InfoWindow(sContent);  // 创建信息窗口对象
                //图片加载完毕重绘infowindow
                marker.openInfoWindow(infoWindow);
              }

              $('#lat').val(em.point.lat);
              $('#lng').val(em.point.lng);
            });
          });
          marker.enableDragging();    //可拖拽
          map.addOverlay(marker);     // 将标注添加到地图中

          // 地址定位
          var pt = e.point;
          gc.getLocation(pt, function (rs) {
            var addComp = rs.addressComponents;
            var label = new BMap.Label("我的坐标：" + e.point.lng + ", " + e.point.lat + "  我的地址：" + addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber, { offset: new BMap.Size(20, -10) });
            //marker.setLabel(label);
            if (rs) {
              var sContent =
                "&lt;h4 style='margin:0 0 5px 0;padding:0.2em 0'&gt;" + addComp.province + "&lt;/h4&gt;" +
                "&lt;p style='margin:0;line-height:1.5;font-size:13px;text-indent:2em'&gt;" + rs.address + "&lt;/p&gt;" +
                "&lt;/div&gt;";
              var infoWindow = new BMap.InfoWindow(sContent);  // 创建信息窗口对象
              //图片加载完毕重绘infowindow
              marker.openInfoWindow(infoWindow);
            }

            $('#lat').val(e.point.lat);
            $('#lng').val(e.point.lng);
          });
          // 重置中心点
          olng = e.point.lng;
          olat = e.point.lat;
        }
        $(function () {
          //百度地图API功能
          var map = new BMap.Map("allmap");
          //控件添加
          map.addControl(new BMap.NavigationControl());
          map.addControl(new BMap.MapTypeControl());
          map.addControl(new BMap.ScaleControl());
          map.addControl(new BMap.OverviewMapControl());

          var point = new BMap.Point(116.331398, 39.897445);//初始化坐标点
          map.centerAndZoom(point, 15);
          map.enableScrollWheelZoom(true);//允许缩放
          var gc = new BMap.Geocoder();//地址定位
          var local = new BMap.LocalSearch(map, {
            renderOptions: { map: map }
          })
          map.addEventListener("click", showInfo);//地图点击事件
          $('#mapPreview').bind('click', function () {
            $.colorbox({ inline: true, href: "#baiduMap", title: "公司地址" });
            var address = app.$data.job.position;
            var city = app.$data.job.city;
            map.setCurrentCity(city);
            map.setZoom(15);
            gc.getPoint(address, function (point) {
              if (point) {
                map.centerAndZoom(point, 15);
                map.setZoom(15);
                map.setCenter(point);
                local.search(address);
              }
            }, city);
          });
        });
      </script>
      <a rel="nofollow" title="回到顶部" id="backtop" style="display: none;"></a>
    </div>
    <!-- end #container -->
  </div>
  <!-- end #body -->
  <div id="footer">
    <div class="wrapper">
      <a rel="nofollow" target="_blank" href="about.html">联系我们</a>
      <a target="_blank" href="http://www.lagou.com/af/zhaopin.html">互联网公司导航</a>
      <a rel="nofollow" target="_blank" href="http://e.weibo.com/lagou720">拉勾微博</a>
      <a rel="nofollow" href="javascript:void(0)" class="footer_qr">拉勾微信<i></i></a>
      <div class="copyright">&copy;2013-2014 Lagou <a
          href="http://www.miitbeian.gov.cn/state/outPortal/loginPortal.action" target="_blank">京ICP备14023790号-2</a>
      </div>
    </div>
  </div>
  <script src="style/js/core.min.js" type="text/javascript"></script>
  <script src="style/js/popup.min.js" type="text/javascript"></script>
  <script>
    var app = new Vue({
      el: '#body',
      data: {
        easyname: '',
        checkDes: false,
        job: {
          job_type: '',
          job_sort: '',
          jobName: '',
          department: '',
          nature: '',
          min_salary: '',
          max_salary: '',
          city: '',
          experience: '',
          education: '',
          advantage: '',
          describe: '',
          position: ''
        },
        jobs: [],
        job_names: [],
        jobId: '',
        option: 'insert',
        select: {
          education: [
            {
              value: 1,
              label: '大专'
            },
            {
              value: 2,
              label: '本科'
            },
            {
              value: 3,
              label: '硕士'
            },
            {
              value: 4,
              label: '博士'
            },
            {
              value: 0,
              label: '其他'
            },
          ],
          experience: [
            {
              value: 0,
              label: '不限'
            },
            {
              value: 1,
              label: '应届毕业生'
            },
            {
              value: 2,
              label: '一年以下'
            },
            {
              value: 3,
              label: '1-3年'
            },
            {
              value: 4,
              label: '3-5年'
            },
            {
              value: 5,
              label: '5-10年'
            },
            {
              value: 6,
              label: '10年以上'
            }
          ]
        },
        searchData: {
          job_type: '',
          jobName: '',
          department: '',
          nature: '',
          min_salary: '',
          max_salary: '',
          city: '',
          experience: '',
          education: '',
          advantage: '',
          describe: '',
          position: '',
          email: ''
        },
        rules: {
          job_type: [
            { required: true, message: '请选择职位类别', trigger: ["blur"] }
          ],
          jobName: [
            { required: true, message: '请填写职位名称', trigger: ['blur', 'change'] }
          ],
          nature: [
            { required: true, message: '请选择工作性质', trigger: 'blur' }
          ],
          min_salary: [
            { required: true, message: '请填写最低酬金', trigger: ['blur', 'change'] }
          ],
          max_salary: [
            { required: true, message: '请填写最高酬金', trigger: ['blur', 'change'] }
          ],
          city: [
            { required: true, message: '请输入工作城市', trigger: ['blur', 'change'] }
          ],
          experience: [
            { required: true, message: '请选择工作经验', trigger: ['blur', 'change'] }
          ],
          education: [
            { required: true, message: '请选择学历要求', trigger: ['blur', 'change'] }
          ],
          advantage: [
            { required: true, message: '请填写工作诱惑', trigger: ['blur', 'change'] }
          ],
          position: [
            { required: true, message: '请输入工作所在地点', trigger: ['blur', 'change'] }
          ]
        }
      },
      methods: {
        checkCookie() {
          var _this = this
          $.ajax({
            url: window.lagou + '/login/index/checkCookie',
            xhrFields: {
              withCredentials: "true"
            },
            success: (res) => {
              if (res.id !== '') {
                _this.easyname = res.easyname ? res.easyname : '游客'
              } else {
                window.location.href = './login.html'
              }
            },
            error: (res) => {
              window.location.href = "./login.html"
            }
          })
        },
        getData() {
          $.ajax({
            url: window.lagou + '/job/index/getJobById',
            data: { jobId: this.jobId },
            dataType: 'json',
            method: 'post',
            xhrFields: {
              withCredentials: true
            },
            success: (res) => {
              this.job = res
              console.log(this.job.experience)
            },
            error: (err) => {

            }
          })
        },
        getJobType() {
          var _this = this
          this.$http.get(window.lagou + '/job/index/getType', { credentials: true }).then((res) => {
            _this.jobs = res.body.job_types
          }, (err) => { })
        },
        setJobType(typeIndex, sortIndex, type, sort) {
          this.job.job_type = type
          this.job.job_sort = sort
          this.job_names = this.jobs[typeIndex].job_sorts[sortIndex].job_names
        },
        checkDescribe() {
          if (this.job.describe.length === 0) {
            this.checkDes = true
          } else {
            this.checkDes = false
          }
        },
        submitForm(formName) {
          this.$refs[formName].validate((valid) => {
            if (valid) {
              this.createJob()
            }
          });
        },
        createJob() {
          this.$http.post(window.lagou + '/company/index/createJob', { 'jobId': this.jobId, data: this.job, option: this.option }, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, emulateJSON: true }).then((res) => {
            if (res.body === '1') {
              this.$message({
                type: 'success',
                message: '发布成功',
                onClose: () => {
                  window.location.href = "./positions.html?status=0"
                }
              })
            } else if (res.body === '0') {
              this.$message({
                type: 'warning',
                message: '请修改之后再发布'
              })
            }
          }).catch((err) => { })
        }
      },
      created() {
        // 设置post请求携带cookie
        Vue.http.interceptors.push((request, next) => {
          request.credentials = true;
          next();
        });
      },
      mounted() {
        this.jobId = getParams().jobId
        if (this.jobId) {
          this.option = 'update'
          this.getData()
        }
        this.checkCookie()
        this.getJobType()
      }
    })
  </script>
</body>

</html>