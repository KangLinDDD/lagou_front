<!DOCTYPE HTML>
<html>

<head>
  <script src="common/common.js"></script>
  <script src="config/config.js"></script>
  <script src="node_modules/vue/dist/vue.min.js"></script>
  <!-- <script src="node_modules/vue/dist/vue.js"></script> -->
  <script src="node_modules/element-ui/lib/index.js"></script>
  <!-- <script type="text/javascript" async="" src="style/js/conversion.js"></script> -->
  <script src="style/js/allmobilize.min.js" charset="utf-8" id="allmobilize"></script>
  <style type="text/css"></style>
  <meta content="no-siteapp" http-equiv="Cache-Control">
  <link media="handheld" rel="alternate">
  <link rel="shortcut icon" href="./style/images/favicon.ico">
  <!-- end 云适配 -->
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>我的简历-拉勾网-最专业的互联网招聘平台</title>
  <meta content="23635710066417756375" property="qc:admins">
  <meta name="description" content="拉勾网是3W旗下的互联网领域垂直招聘网站,互联网职业机会尽在拉勾网">
  <meta name="keywords"
    content="拉勾,拉勾网,拉勾招聘,拉钩, 拉钩网 ,互联网招聘,拉勾互联网招聘, 移动互联网招聘, 垂直互联网招聘, 微信招聘, 微博招聘, 拉勾官网, 拉勾百科,跳槽, 高薪职位, 互联网圈子, IT招聘, 职场招聘, 猎头招聘,O2O招聘, LBS招聘, 社交招聘, 校园招聘, 校招,社会招聘,社招">
  <link href="style/css/style.css" type="text/css" rel="stylesheet">
  <link href="style/css/external.min.css" type="text/css" rel="stylesheet">
  <link href="style/css/popup.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="./node_modules/element-ui/lib/theme-chalk/index.css">
  <script src="./node_modules/jquery/dist/jquery.min.js"></script>
  <!-- <script type="text/javascript" src="style/js/jquery.1.10.1.min.js"></script> -->
  <script src="style/js/jquery.lib.min.js" type="text/javascript"></script>
  <script type="text/javascript" src="style/js/ajaxfileupload.js"></script>
  <script src="style/js/additional-methods.js" type="text/javascript"></script>
  <script src="node_modules/jquery-validation/dist/jquery.validate.min.js"></script>
  <!-- <script src="node_modules/jquery/dist/jquery.js" type="text/javascript"></script> -->
</head>

<body>
  <div id="body" v-cloak @click="closeDialog">
    <div id="header">
      <div class="wrapper">
        <a class="logo" href="">
          <img width="229" height="43" alt="拉勾招聘-专注互联网招聘" src="style/images/logo.png">
        </a>
        <ul id="navheader" class="reset">
          <li><a href="index.html">首页</a></li>
          <li><a href="companylist.html">公司</a></li>
          <li class="current"><a rel="nofollow" href="jianli.html">我的简历</a></li>
        </ul>
        <ul class="loginTop" v-if="!logined">
          <li><a href="login.html" rel="nofollow">登录</a></li>
          <li>|</li>
          <li><a href="register.html" rel="nofollow">注册</a></li>
        </ul>
        <dl class="collapsible_menu" v-else-if="temInfo.type===0">
          <dt>
            <span>{{tmpName}}</span>
          </dt>
          <dd><a rel="nofollow" href="jianli.html">我的简历</a></dd>
          <dd><a href="collections.html">我收藏的职位</a></dd>
          <dd class="btm"><a href="subscribe.html">我的订阅</a></dd>
          <dd><a href="accountBind.html">帐号设置</a></dd>
          <dd class="logout"><a rel="nofollow" href="login.html">退出</a></dd>
        </dl>
      </div>
    </div><!-- end #header -->
    <div id="container">

      <div class="clearfix">
        <div class="content_l">
          <div class="fl" id="resume_name">
            <div class="nameShow fl">
              <h1>{{tmpName}}的简历</h1>
              <a target="_blank" href="./preview.html">预览</a>
            </div>
          </div>
          <!--end #resume_name-->
          <div class="fr c5" id="lastChange dTime" v-show="updateTime">最后一次更新：<span>{{updateTime}}</span>
          </div>

          <div class="profile_box" id="basicInfo">
            <h2>基本信息</h2>
            <span class="c_edit" :class="{'dn':switchs.userInfo}" @click.stop="changeSwitchs('userInfo')"></span>
            <div class="basicShow" :class="{'dn':switchs.userInfo}">
              <span>{{userInfo.name}} <span v-show="userInfo.name">|</span>
                <span v-show="userInfo.sex">{{userInfo.sex==1?'女':'男'}}</span> <span v-show="userInfo.sex">|</span>
                <span v-if="userInfo.education == '0'">其他</span>
                <span v-if="userInfo.education == '1'">专科</span>
                <span v-if="userInfo.education == '2'">本科</span>
                <span v-if="userInfo.education == '3'">硕士</span>
                <span v-if="userInfo.education == '4'">博士</span>
                <span v-show="userInfo.education !== ''">|</span> {{experience}}<br>
                {{userInfo.tel}} <span v-show="userInfo.tel">|</span>
                {{userInfo.email}}<br>
              </span>
              <div class="m_portrait">
                <div></div>
                <img width="120" height="120" alt="" :src="headImg">
              </div>
            </div>
            <!--end .basicShow-->

            <div class="basicEdit" :class="{'dn':!switchs.userInfo}">
              <form id="profileForm">
                <table>
                  <tbody>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" placeholder="姓名" v-model="userInfo.name" value="" name="name" id="name">
                      </td>
                      <td valign="top"></td>
                      <td>
                        <ul class="profile_radio clearfix reset">
                          <li :class="{'current':!status.sex}" @click.stop="setSex()">
                            男<em></em>
                            <input type="radio" checked="checked" name="gender" value="男">
                          </li>
                          <li @click.stop="setSex()" :class="{'current':status.sex}">
                            女<em></em>
                            <input type="radio" name="gender" value="女">
                          </li>
                        </ul>
                      </td>
                    </tr>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-select class="basic" v-model="userInfo.education" placeholder="请选择教育程度">
                          <el-option v-for="item in select.education" :key="item.value" :label="item.label"
                            :value="item.value">
                          </el-option>
                        </el-select>
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-select class="basic" v-model="userInfo.experience" placeholder="请选择工作经验">
                          <el-option v-for="item in select.experience" :key="item.value" :label="item.label"
                            :value="item.value">
                          </el-option>
                        </el-select>
                      </td>
                    </tr>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td colspan="3">
                        <input type="text" placeholder="手机号码" v-model="userInfo.tel" value="" name="tel" id="tel">
                      </td>
                    </tr>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td colspan="3">
                        <input type="text" placeholder="接收面试通知的邮箱" v-model="userInfo.email" value="" name="email"
                          id="email">
                      </td>
                    </tr>
                    <tr>
                      <td valign="top"> </td>
                      <td colspan="3">
                        <el-select class="basic status" v-model="userInfo.status" placeholder="请选择当前状态">
                          <el-option v-for="item in select.status" :key="item.value" :label="item.label"
                            :value="item.value">
                          </el-option>
                        </el-select>
                      </td>
                    </tr>
                    <tr>
                      <td></td>
                      <td colspan="3">
                        <input type="submit" @click.stop="saveUserInfo" value="保 存" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click.stop="cancleEdit('userInfo')" href="javascript:;">取 消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </form>
              <!--end #profileForm-->
              <div class="new_portrait">
                <el-upload auto-upload="true" with-credentials=true show-file-list="false" :on-error="uploadError"
                  :on-success="uploadSuccess" accept=".jpg,.jpeg,.png,.JPG,.JPEG"
                  action="http://tp5.com/jianli/index/headImg" :file-list="fileList" list-type="text">
                  <div class="portrait_upload" id="portraitNo">
                    <span>上传自己的头像</span>
                  </div>
                  <div class="portraitShow" id="portraitShow">
                    <img width="120" height="120" :src="headImg">
                    <span>更换头像</span>
                  </div>
                  <em>尺寸：120*120px<br>大小：小于5M</em>
                  <span style="display:none;" id="headPic_error" class="error"></span>
                </el-upload>
              </div>
              <!--end .new_portrait-->
            </div>
            <!--end .basicEdit-->
          </div>
          <!--end #basicInfo-->

          <div class="profile_box" id="expectJob">
            <h2>期望工作</h2>
            <span class="c_edit" :class="{'dn':switchs.expectInfo}" @click.stop="changeSwitchs('expectInfo')"></span>
            <div class="expectShow" :class="{'dn':!expectInfo.expectCity || switchs.expectInfo}">
              <ul class="slist clearfix">
                <li>
                  <span>{{expectInfo.expectCity}}</span>
                  <span v-show="expectInfo.nature!==''">|</span>
                  <span v-if="expectInfo.nature == 0">全职</span>
                  <span v-if="expectInfo.nature == 1">兼职</span>
                  <span v-if="expectInfo.nature == 2">实习</span>
                  <span v-else></span>
                  <span v-show="expectInfo.expectJob">|</span>
                  {{expectInfo.expectJob}}
                  <span v-show="min_salary && max_salary">|</span>
                  <span v-show="min_salary && max_salary">
                    {{min_salary}}k-{{max_salary}}k </span>
                </li>
              </ul>
            </div>
            <!--end .expectShow-->
            <div class="expectEdit" :class="{'dn':!switchs.expectInfo}">
              <form id="expectForm">
                <table>
                  <tbody>
                    <tr>
                      <td>
                        <!-- <input type="hidden" id="expectCity" v-model="expectInfo.expectCity" name="expectCity"> -->
                        <span class="city" v-show="!expectInfo.expectCity"
                          @click.stop="changeStatus('citys')">期望城市，如：北京</span>
                        <input type="button" style="display: block;" name="expectCity" v-model="expectInfo.expectCity"
                          @click.stop="changeStatus('citys')" id="select_expectCity"
                          class="profile_select_287 profile_select_normal">
                        <div class="boxUpDown boxUpDown_596" :class="{'dn':!status.citys}" id="box_expectCity">
                          <dl>
                            <dt>热门城市</dt>
                            <dd>
                              <span>北京</span>
                              <span>上海</span>
                              <span>广州</span>
                              <span>深圳</span>
                              <span>成都</span>
                              <span>杭州</span>
                            </dd>
                          </dl>
                          <dl>
                            <dt>ABCDEF</dt>
                            <dd>
                              <span>北京</span>
                              <span>长春</span>
                              <span>成都</span>
                              <span>重庆</span>
                              <span>长沙</span>
                              <span>常州</span>
                              <span>东莞</span>
                              <span>大连</span>
                              <span>佛山</span>
                              <span>福州</span>
                            </dd>
                          </dl>
                          <dl>
                            <dt>GHIJ</dt>
                            <dd>
                              <span>贵阳</span>
                              <span>广州</span>
                              <span>哈尔滨</span>
                              <span>合肥</span>
                              <span>海口</span>
                              <span>杭州</span>
                              <span>惠州</span>
                              <span>金华</span>
                              <span>济南</span>
                              <span>嘉兴</span>
                            </dd>
                          </dl>
                          <dl>
                            <dt>KLMN</dt>
                            <dd>
                              <span>昆明</span>
                              <span>廊坊</span>
                              <span>宁波</span>
                              <span>南昌</span>
                              <span>南京</span>
                              <span>南宁</span>
                              <span>南通</span>
                            </dd>
                          </dl>
                          <dl>
                            <dt>OPQR</dt>
                            <dd>
                              <span>青岛</span>
                              <span>泉州</span>
                            </dd>
                          </dl>
                          <dl>
                            <dt>STUV</dt>
                            <dd>
                              <span>上海</span>
                              <span>石家庄</span>
                              <span>绍兴</span>
                              <span>沈阳</span>
                              <span>深圳</span>
                              <span>苏州</span>
                              <span>天津</span>
                              <span>太原</span>
                              <span>台州</span>
                            </dd>
                          </dl>
                          <dl>
                            <dt>WXYZ</dt>
                            <dd>
                              <span>武汉</span>
                              <span>无锡</span>
                              <span>温州</span>
                              <span>西安</span>
                              <span>厦门</span>
                              <span>烟台</span>
                              <span>珠海</span>
                              <span>中山</span>
                              <span>郑州</span>
                            </dd>
                          </dl>
                        </div>
                      </td>
                      <td>
                        <ul class="profile_radio clearfix reset">
                          <li :class="{'current':expectInfo.nature==0}" @click.stop="changeNature(0)">
                            全职<em></em>
                            <input type="radio" checked="" name="type" value="全职">
                          </li>
                          <li :class="{'current':expectInfo.nature==1}" @click.stop="changeNature(1)">
                            兼职<em></em>
                            <input type="radio" name="type" value="兼职">
                          </li>
                          <li :class="{'current':expectInfo.nature==2}" @click.stop="changeNature(2)">
                            实习<em></em>
                            <input type="radio" name="type" value="实习">
                          </li>
                        </ul>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <input type="text" style="display: block;" placeholder="期望职位，如：产品经理"
                          v-model="expectInfo.expectJob" name="expectPosition" id="expectPosition">
                      </td>
                      <td>
                        <el-select class="expect" name="exceptSalary" v-model="salary" placeholder="请选择">
                          <el-option v-for="item in select.salary" :key="item.value" :label="item.label"
                            :value="item.value">
                          </el-option>
                        </el-select>
                      </td>
                    </tr>
                    <tr>
                      <td colspan="2">
                        <input type="submit" value="保 存" @click.stop="saveExpectJob" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click="cancleEdit('expectInfo')" href="javascript:;">取 消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </form>
              <!--end #expectForm-->
            </div>
            <!--end .expectEdit-->
            <div class="expectAdd pAdd" @click="changeSwitchs('expectInfo')"
              :class="{'dn':expectInfo.expectCity || switchs.expectInfo}">
              填写准确的期望工作能大大提高求职成功率哦…<br>
              快来添加期望工作吧！
              <span>添加期望工作</span>
            </div>
            <!--end .expectAdd-->
          </div>
          <!--end #expectJob-->

          <div class="profile_box" id="workExperience">
            <h2>工作经历 <span> （投递简历时必填）</span></h2>
            <span class="c_add" @click="changeSwitchs('work_experience')"
              :class="{'dn':switchs.work_experience}"></span>
            <div class="experienceShow" :class="{'dn':switchs.work_experience}">

              <ul class="slist clearfix">
                <li v-for="(item,index) in work_experience" :key="index">
                  <span>{{item.startTime}}</span> 至
                  <span>{{item.endTime}}</span>&nbsp;&nbsp;
                  <span>{{item.jobName}}</span>&nbsp;&nbsp;
                  <span>{{item.companyName}}</span>
                  <span class="c_edit" @click="setValues('work_experience',index)"></span>
                  <span class="c_delete" @click="deleteValues('work_experience',index)"></span>
                </li>
              </ul>
            </div>
            <!--end .experienceShow-->
            <div class="experienceEdit" :class="{'dn':!switchs.work_experience}">
              <form class="experienceForm">
                <table>
                  <tbody>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" placeholder="公司名称" autocomplete="on"
                          v-model="template.work_experience.companyName" name="companyName" class="companyName">
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" autocomplete="on" v-model="template.work_experience.jobName"
                          placeholder="职位名称，如：产品经理" name="jobName" class="positionName">
                      </td>
                    </tr>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-date-picker name="startTime" v-model="template.work_experience.startTime" align="right"
                          type="date" :picker-options="pickerOptionStart" value-format="yyyy-MM-dd" placeholder="开始日期">
                        </el-date-picker>
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-date-picker v-model="template.work_experience.endTime" name="endTime" align="right"
                          type="date" :picker-options="pickerOptionEnd" value-format="yyyy-MM-dd" placeholder="结束日期">
                        </el-date-picker>
                      </td>
                    </tr>
                    <tr>
                      <td></td>
                      <td colspan="3">
                        <input type="submit" value="保 存" @click="saveWorkExperience" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click="cancleEdit('work_experience')" href="javascript:;">取 消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <input type="hidden" class="expId" value="">
              </form>
              <!--end .experienceForm-->
            </div>
            <!--end .experienceEdit-->

            <div class="experienceAdd pAdd" :class="{'dn':!work_experience.length == 0 || switchs.work_experience}"
              @click="changeSwitchs('work_experience')">
              工作经历最能体现自己的工作能力，<br>
              且完善后才可投递简历哦！
              <span>添加工作经历</span>
            </div>
            <!--end .experienceAdd-->
          </div>
          <!--end #workExperience-->

          <div class="profile_box" id="projectExperience">
            <h2>项目经验</h2>
            <span class="c_add" @click="changeSwitchs('project_experience')"
              :class="{'dn':switchs.project_experience}"></span>
            <div class="projectShow" :class="{'dn':switchs.project_experience}">
              <ul class="plist clearfix">
                <li v-for="(item,index) in project_experience" :key="index">
                  <span>{{item.projectName}}</span>
                  <span>{{item.job}}</span>
                  <span>{{item.startTime}}</span> 至
                  <span>{{item.endTime}}</span>
                  <span class="c_edit" @click="setValues('project_experience',index)"></span>
                  <span class="c_delete" @click="deleteValues('project_experience',index)"></span>
                </li>
              </ul>
            </div>
            <!--end .projectShow-->
            <div class="projectEdit" :class="{'dn': !switchs.project_experience}">
              <form class="projectForm">
                <table>
                  <tbody>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" v-model="template.project_experience.projectName" placeholder="项目名称"
                          name="projectName" class="projectName">
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" placeholder="担任职务，如：产品负责人" name="thePost"
                          v-model="template.project_experience.job" class="thePost">
                      </td>
                    </tr>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-date-picker v-model="time.startTime" type="date" name="startTime"
                          :picker-options="pickerOptionStart" value-format="yyyy-MM-dd" placeholder="开始时间">
                        </el-date-picker>
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-date-picker v-model="time.endTime" type="date" value-format="yyyy-MM-dd" name="endTime"
                          :picker-options="pickerOptionEnd" placeholder="结束时间">
                        </el-date-picker>
                      </td>
                    </tr>
                    <tr>
                      <td valign="top"></td>
                      <td colspan="3">
                        <textarea class="projectDescription s_textarea" name="projectDescription"
                          v-model="template.project_experience.describe" placeholder="项目描述"></textarea>
                        <div class="word_count">你还可以输入 <span>500</span> 字</div>
                      </td>
                    </tr>
                    <tr>
                      <td valign="top"></td>
                      <td colspan="3">
                        <input type="submit" @click="saveProjectDesc" value="保 存" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click="cancleEdit('project_experience')" href="javascript:;">取
                          消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <input type="hidden" value="" class="projectId">
              </form>
              <!--end .projectForm-->
            </div>
            <!--end .projectEdit-->
            <div class="projectAdd pAdd" :class="{'dn':project_experience.length !== 0}"
              @click="changeSwitchs('project_experience')"
              :class="{'dn':project_experience.projectName || switchs.project_experience}">
              项目经验是用人单位衡量人才能力的重要指标哦！<br>
              来说说让你难忘的项目吧！
              <span>添加项目经验</span>
            </div>
            <!--end .projectAdd-->
          </div>
          <!--end #projectExperience-->

          <div class="profile_box" id="educationalBackground">
            <h2>教育背景<span>（投递简历时必填）</span></h2>
            <span class="c_add" @click="changeSwitchs('education')" :class="{'dn':switchs.education}"></span>
            <div class="educationalShow" :class="{'dn':switchs.education}">
              <ul class="slist clearfix">
                <li v-for="(item,index) in education" :key="index">
                  <span>{{item.startTime}}至{{item.endTime}}</span>
                  <span>{{item.schoolName}}</span>
                  <span v-if="item.education == 1">专科</span>
                  <span v-if="item.education == 2">本科</span>
                  <span v-if="item.education == 3">硕士</span>
                  <span v-if="item.education == 4">博士</span>
                  <span v-if="item.education == 0">其他</span>
                  <span>{{item.majorName}}</span>
                  <span class="c_edit" @click="setValues('education',index)"></span>
                  <span class="c_delete" @click="deleteValues('education',index)"></span>
                </li>
              </ul>
              <!--end .educationalForm-->
            </div>
            <!--end .educationalShow-->
            <div class="educationalEdit" :class="{'dn':!switchs.education}">
              <form class="educationalForm">
                <table>
                  <tbody>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" autocomplete="on" v-model="template.education.schoolName" placeholder="学校名称"
                          name="schoolName" class="schoolName">
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-select class="basic" name="education" v-model="template.education.education"
                          placeholder="请选择">
                          <el-option v-for="item in select.education" :key="item.value" :label="item.label"
                            :value="item.value">
                          </el-option>
                        </el-select>
                      </td>
                    </tr>
                    <tr>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <input type="text" v-model="template.education.majorName" placeholder="专业名称" autocomplete
                          name="majorName" class="professionalName">
                      </td>
                      <td valign="top">
                        <span class="redstar">*</span>
                      </td>
                      <td>
                        <el-date-picker v-model="time.startTime" align="right" class="startTime" name="startTime"
                          value-format="yyyy" type="year" placeholder="开始年份">
                        </el-date-picker>
                        <el-date-picker v-model="time.endTime" align="right" class="endTime" name="endTime"
                          value-format="yyyy" type="year" placeholder="结束年份">
                        </el-date-picker>
                      </td>
                    </tr>
                    <tr>
                      <td></td>
                      <td colspan="3">
                        <input type="submit" value="保 存" @click="saveEducation" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click="cancleEdit('education')" href="javascript:;">取 消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <input type="hidden" class="eduId" value="">
              </form>
              <!--end .educationalForm-->
            </div>
            <!--end .educationalEdit-->
            <div class="educationalAdd pAdd" :class="{'dn':!education.length == 0 || switchs.education}"
              @click="changeSwitchs('education')">
              教育背景可以充分体现你的学习和专业能力，<br>
              且完善后才可投递简历哦！
              <span>添加教育经历</span>
            </div>
            <!--end .educationalAdd-->
          </div>
          <!--end #educationalBackground-->

          <div class="profile_box" id="selfDescription">
            <h2>自我描述</h2>
            <span class="c_edit" @click="changeSwitchs('self_describe')" :class="{'dn':switchs.self_describe}"></span>
            <div class="descriptionShow" :class="{'dn':!self_describe || switchs.self_describe}">
              <span style="white-space: nowrap">自我描述：</span>
              <span
                style="display: -webkit-box;-webkit-line-clamp: 3;-webkit-box-orient: vertical;overflow: hidden;">{{self_describe}}</span>
            </div>
            <!--end .descriptionShow-->
            <div class="descriptionEdit" :class="{'dn':!switchs.self_describe}">
              <form class="descriptionForm">
                <table>
                  <tbody>
                    <tr>
                      <td colspan="2">
                        <textarea class="selfDescription s_textarea" v-model="self_describe" name="selfDescription"
                          placeholder="请输入您的自我描述" maxlength="500"></textarea>
                        <div class="word_count">你还可以输入 <span>
                            {{self_desc_length}}</span> 字</div>
                      </td>
                    </tr>
                    <tr>
                      <td colspan="2">
                        <input type="submit" value="保 存" @click="saveSelfDescripton" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click="cancleEdit('self_describe')" href="javascript:;">取 消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </form>
              <!--end .descriptionForm-->
            </div>
            <!--end .descriptionEdit-->
            <div class="descriptionAdd pAdd" @click="changeSwitchs('self_describe')"
              :class="{'dn':self_describe || switchs.self_describe}">
              描述你的性格、爱好以及吸引人的经历等，<br>
              让企业了解多元化的你！
              <span>添加自我描述</span>
            </div>
            <!--end .descriptionAdd-->
          </div>
          <!--end #selfDescription-->

          <div class="profile_box" id="worksShow">
            <h2>作品展示</h2>
            <span class="c_edit" @click="changeSwitchs('works')" :class="{'dn':switchs.works}"></span>
            <div class="workShow" :class="{'dn':!works.url || switchs.works}">
              <ul class="slist clearfix">
                <li>
                  <span>作品链接:&nbsp;{{works.url}}</span>
                </li>
                <li>
                  <span>作品描述:&nbsp;</span>
                  <span class="work_show">{{works.works_describe}}</span>
                </li>
              </ul>
            </div>
            <!--end .workShow-->
            <div class="workEdit" :class="{'dn':!switchs.works}">
              <form class="workForm">
                <table>
                  <tbody>
                    <tr>
                      <td>
                        <input type="text" placeholder="请输入作品链接" v-model="works.url" name="workLink" class="workLink">
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <textarea maxlength="100" v-model="works.works_describe" class="workDescription s_textarea"
                          name="workDescription" placeholder="请输入说明文字"></textarea>
                        <div class="word_count">你还可以输入 <span>{{workShowLength}}</span> 字</div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <input type="submit" value="保 存" @click="saveWorks" class="btn_profile_save">
                        <a class="btn_profile_cancel" @click="cancleEdit('works')" href="javascript:;">取 消</a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </form>
              <!--end .workForm-->
            </div>
            <!--end .workEdit-->
            <div class="workAdd pAdd" @click="changeSwitchs('works')" :class="{'dn':works.url || switchs.works}">
              好作品会说话！<br>
              快来秀出你的作品打动企业吧！
              <span>添加作品展示</span>
            </div>
            <!--end .workAdd-->
          </div>
          <!--end #worksShow-->
        </div>
        <!--end .content_l-->
        <div class="content_r">
          <div class="mycenterR" id="myInfo">
            <h2>我的信息</h2>
            <a target="_blank" href="collections.html">我收藏的职位</a>
            <br>
            <a target="_blank" href="subscribe.html">我订阅的职位</a>
          </div>
          <!--end #myInfo-->

          <div class="mycenterR" id="myResume">
            <h2>我的附件简历
              <a title="上传附件简历" href="#uploadFile" class="inline cboxElement">上传简历</a>
            </h2>
            <div class="resumeUploadDiv">
              暂无附件简历
            </div>
          </div>
          <!--end #myResume-->

          <div class="mycenterR" id="resumeSet">
            <h2>投递简历设置 <span>修改设置</span></h2>
            <!-- -1 (0=附件， 1=在线， 其他=未设置) -->
            <div class="noSet set0 dn">默认使用<span>附件简历</span>进行投递</div>
            <div class="noSet set1 dn">默认使用<span>在线简历</span>进行投递</div>
            <div class="noSet">暂未设置默认投递简历</div>
            <input type="hidden" class="defaultResume" value="-1">
            <form class="dn" id="resumeSetForm">
              <label><input type="radio" value="1" class="resume1" name="resume">默认使用<span>在线简历</span>进行投递</label>
              <label><input type="radio" value="0" class="resume0" name="resume">默认使用<span>附件简历</span>进行投递</label>
              <span class="setTip error"></span>
              <div class="resumeTip">设置后投递简历时将不再提醒</div>
              <input type="submit" value="保 存" class="btn_profile_save">
              <a class="btn_profile_cancel" href="javascript:;">取 消</a>
            </form>
          </div>
          <!--end #resumeSet-->

          <div class="mycenterR" id="myShare">
            <h2>当前每日投递量：10个</h2>
            <a target="_blank" href="h/share/invite.html">邀请好友，提升投递量</a>
          </div>
          <!--end #myShare-->


          <div class="greybg qrcode mt20">
            <img width="242" height="242" alt="拉勾微信公众号二维码" src="style/images/qr_resume.png">
            <span class="c7">微信扫一扫，轻松找工作</span>
          </div>
        </div>
        <!--end .content_r-->
      </div>
      <div class="" id="qr_cloud_resume" style="display: none;">
        <div class="cloud">
          <img width="134" height="134" src="">
          <a class="close" href="javascript:;"></a>
        </div>
      </div>
    </div><!-- end #container -->
  </div><!-- end #body -->
  <div id="footer">
    <div class="wrapper">
      <a rel="nofollow" target="_blank" href="h/about.html">联系我们</a>
      <a target="_blank" href="h/af/zhaopin.html">互联网公司导航</a>
      <a rel="nofollow" target="_blank" href="http://e.weibo.com/lagou720">拉勾微博</a>
      <a rel="nofollow" href="javascript:void(0)" class="footer_qr">拉勾微信<i></i></a>
      <div class="copyright">&copy;2013-2014 Lagou <a
          href="http://www.miitbeian.gov.cn/state/outPortal/loginPortal.action" target="_blank">京ICP备14023790号-2</a>
      </div>
    </div>
  </div>

  <div id="cboxOverlay" style="display: none;"></div>
  <div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;">
    <div id="cboxWrapper">
      <div>
        <div id="cboxTopLeft" style="float: left;"></div>
        <div id="cboxTopCenter" style="float: left;"></div>
        <div id="cboxTopRight" style="float: left;"></div>
      </div>
      <div style="clear: left;">
        <div id="cboxMiddleLeft" style="float: left;"></div>
        <div id="cboxContent" style="float: left;">
          <div id="cboxTitle" style="float: left;"></div>
          <div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button
            type="button" id="cboxNext"></button><button id="cboxSlideshow"></button>
          <div id="cboxLoadingOverlay" style="float: left;"></div>
          <div id="cboxLoadingGraphic" style="float: left;"></div>
        </div>
        <div id="cboxMiddleRight" style="float: left;"></div>
      </div>
      <div style="clear: left;">
        <div id="cboxBottomLeft" style="float: left;"></div>
        <div id="cboxBottomCenter" style="float: left;"></div>
        <div id="cboxBottomRight" style="float: left;"></div>
      </div>
    </div>
    <div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div>
  </div>
  <script>
    var app = new Vue({
      el: '#body',
      data: {
        logined: false,
        jianId: '',
        optionIndex: '',
        tmpName: '',
        fileList: [],
        headImg: 'style/images/default_headpic.png',
        updateTime: '',
        time: {
          startTime: '',
          endTime: ''
        },
        salary: '',
        self_describe: '',
        project_experience: [],
        temInfo: {},
        education: [],
        work_experience: [],
        works: {
          url: '',
          works_describe: ''
        },
        userInfo: {
          name: '',
          sex: '',
          education: '',
          experience: '',
          tel: '',
          email: '',
          status: ''
        },
        expectInfo: {
          expectCity: '',
          nature: 0,
          expectJob: ''
        },
        // 状态控制
        status: {
          sex: false,
          salary: false,
          citys: false
        },
        // 下拉
        select: {
          education: [
            {
              value: 1,
              label: '大专'
            },
            {
              value: 2,
              label: '本科'
            },
            {
              value: 3,
              label: '硕士'
            },
            {
              value: 4,
              label: '博士'
            },
            {
              value: 0,
              label: '其他'
            },
          ],
          experience: [
            {
              value: 1,
              label: '应届毕业生'
            },
            {
              value: 2,
              label: '一年以下'
            },
            {
              value: 3,
              label: '1-3年'
            },
            {
              value: '4',
              label: '3-5年'
            },
            {
              value: 5,
              label: '5-10年'
            },
            {
              value: 6,
              label: '10年以上'
            }
          ],
          status: [
            {
              value: 0,
              label: '我目前已离职，可快速到岗'
            },
            {
              value: 1,
              label: '我目前正在职，正考虑换个新环境'
            },
            {
              value: 2,
              label: '我暂时不想找工作'
            },
            {
              value: 3,
              label: '我是应届毕业生'
            }
          ],
          salary: [
            {
              value: '0,2',
              label: '2k以下'
            },
            {
              value: '2,5',
              label: '2k-5k'
            },
            {
              value: '5,10',
              label: '5k-10k'
            },
            {
              value: '10,15',
              label: '10k-15k'
            },
            {
              value: '15,25',
              label: '15k-25k'
            }, {
              value: '25,50',
              label: '25k-50k'
            },
            {
              value: '50,""',
              label: '50k以上'
            }
          ]
        },
        // 开关，控制每个模块
        switchs: {
          userInfo: false,
          expectInfo: false,
          self_describe: false,
          works: false,
          project_experience: false,
          education: false,
          work_experience: false
        },
        template: {
          userInfo: {
            name: '',
            sex: '',
            education: '',
            experience: '',
            tel: '',
            email: '',
            status: ''
          },
          expectInfo: {
            expectCity: '',
            nature: 0,
            expectJob: ''
          },
          self_describe: '',
          works: {
            url: '',
            works_describe: ''
          },
          project_experience: {
            projectName: '',
            job: '',
            startTime: '',
            endTime: '',
            describe: ''
          },
          education: {
            schoolName: '',
            education: '',
            majorName: '',
            startTime: '',
            endTime: '',
            id: ''
          },
          work_experience: {
            companyName: '',
            jobName: '',
            startTime: '',
            endTime: ''
          },
        },
        pickerOptionStart: {
          disabledDate(time) {
            return time.getTime() > Date.now();
          },
        },
        pickerOptionEnd: {
          disabledDate(time) {
            return time.getTime() > Date.now();
          },
        }
      },
      computed: {
        experience: function () {
          switch (this.userInfo.experience) {
            case 1: {
              return '应届毕业生'
              break
            }
            case 2: {
              return '一年以下'
              break
            }
            case 3: {
              return '1-3年'
              break
            }
            case 4: {
              return '3-5年'
              break
            }
            case 5: {
              return '5-10年'
              break
            }
            case 6: {
              return '10年以上'
              break
            }
            default: {
              return ''
              break
            }
          }
        },
        min_salary: function () {
          return this.salary.split(',')[0]
        },
        max_salary: function () {
          return this.salary.split(',')[1]
        },
        self_desc_length: function () {
          return 500 - this.self_describe.length
        },
        workShowLength: function () {
          return 100 - this.works.works_describe.length
        }
      },
      methods: {
        deleteValues(val, index) {
          this.$confirm('此操作将永久删除该条记录, 是否继续?', '提示', {
            confirmButtonText: '确定',
            cancelButtonText: '取消',
            type: 'warning'
          }).then(() => {
            $.ajax({
              url: window.lagou + '/jianli/index/delete',
              dataType: 'json',
              data: { id: this[val][index].id, name: val },
              method: 'post',
              xhrFields: {
                withCredentials: 'true'
              },
              success: (res) => {
                this[val].splice(index, 1)
                this.$message({
                  type: 'success',
                  message: '删除成功'
                })
              },
              error: (res) => {

              }
            })
          }).catch(() => {
            this.$message({
              type: 'info',
              message: '已取消删除'
            });
          });
        },
        setValues(val, index) {
          this.optionIndex = index
          this.template[val] = JSON.parse(JSON.stringify(this[val][index]))
          this.time.startTime = '' + this[val][index].startTime
          this.time.endTime = '' + this[val][index].endTime
          this.changeSwitchs(val)
        },
        getJianliInfo() {
          $.ajax({
            url: window.lagou + '/jianli/index/getJianLi',
            xhrFields: {
              withCredentials: "true"
            },
            method: 'post',
            success: (res) => {
              var { expectInfo, work_experience, project_experience, education, self_describe, works } = res
              this.expectInfo = expectInfo
              this.salary = expectInfo.min_salary + ',' + expectInfo.max_salary
              this.work_experience = work_experience?work_experience:[]
              this.project_experience = project_experience
              this.education = education
              this.self_describe = self_describe
              this.works = works ? works : {
                url: '',
                works_describe: ''
              }

            },
            error: () => { }
          })
        },
        checkJianLi() {
          $.ajax({
            url: window.lagou + '/jianli/index/check',
            xhrFields: {
              withCredentials: "true"
            },
            method: 'post',
            success: (res) => {
              this.jianId = res
            },
            error: (res) => {

            }
          })
        },
        closeDialog() {
          this.status.citys = false
        },
        changeStatus(val) {
          this.status[val] = !this.status[val]
        },
        changeNature(val) {
          this.expectInfo.nature = val
        },
        changeSwitchs(val) {
          this.switchs[val] = !this.switchs[val]
        },
        checkCookie() {
          var _this = this
          $.ajax({
            url: window.lagou + '/login/index/checkCookie',
            xhrFields: {
              withCredentials: "true"
            },
            method: 'post',
            success: (res) => {
              if (res.id === '') {
                window.location.href = "./login.html"
                return
              }
              if (res.id && res.type === 0) {
                this.temInfo = res
                this.logined = true
                _this.tmpName = res.name ? res.name : '游客'
              } else if (res.type === 1) {
                this.$confirm('当前登陆的用户不支持填写简历，是否重新登陆？', '提示', {
                  confirmButtonText: '确定',
                  cancelButtonText: '取消',
                }).then(() => {
                  window.location.href = './login.html'
                }).catch(() => {
                  window.location.href = './index.html'
                })
              }
            },
            error: (res) => {
              window.location.href = "./login.html"
            }
          })
        },
        getUserInfo() {
          $.ajax({
            url: window.lagou + '/user/index/getUserInfo',
            xhrFields: {
              withCredentials: "true"
            },
            method: 'post',
            success: (res) => {
              if (res) {
                this.updateTime = res.updateTime
                var { name, sex, education, experience, tel, email, status } = res
                this.userInfo = { name, sex, education, experience, tel, email, status }
                this.tmpName = name
                this.template.userInfo = JSON.stringify(this.userInfo)
                this.userInfo.education = education ? education : ''
                this.headImg = res.headImgUrl ? res.headImgUrl : 'style/images/default_headpic.png'
              }
            },
            error: (res) => {
              window.location.href = "./login.html"
            }
          })
        },
        uploadSuccess(response, file, fileList) {
          this.headImg = response
        },
        uploadError(err, file, fileList) {
          this.headImg = 'style/images/default_headpic.png'
        },
        setSex() {
          this.status.sex = !this.status.sex
          this.userInfo.sex = this.status.sex ? 1 : 0
        },
        saveUserInfo() {
          var _this = this
          $('#profileForm').validate({
            rules: {
              name: {
                required: true,
                minlength: 2
              },
              tel: {
                required: true,
                digits: true
              },
              email: {
                required: true,
                email: true
              }
            },
            messages: {
              name: {
                required: '请输入您的名字',
                minlength: '名字不能少于两个汉字'
              },
              tel: {
                required: '请输入手机号',
                digits: '请输入整数'
              },
              email: {
                required: '请输入邮箱',
                email: '请输入有效的邮箱地址'
              }
            },
            submitHandler(form) {
              $.ajax({
                url: window.lagou + '/jianli/index/addUserInfo',
                data: _this.userInfo,
                method: 'post',
                dataType: 'json',
                xhrFields: {
                  withCredentials: "true"
                },
                success: (res) => {
                  // 未登录
                  if (res == 400) {
                    window.location.href = './login.html'
                  } else {
                    _this.updateTime = _this.updateTime = getAllDay(new Date().getTime())
                    _this.changeSwitchs('userInfo')
                    _this.tmpName = _this.userInfo.name
                  }
                },
                error: (res) => {
                  console.log(res)
                }
              })
            }
          })
        },
        saveExpectJob() {
          var _this = this
          $("#expectForm").validate({
            rules: {
              expectCity: {
                required: true
              },
              expectPosition: {
                required: true
              },
              exceptSalary: {
                required: true
              }
            },
            messages: {
              expectCity: {
                required: '请输入期望城市'
              },
              expectPosition: {
                required: '请输入期望职位'
              },
              exceptSalary: {
                required: '请选择薪资范围'
              }
            },
            submitHandler: (form) => {
              this.expectInfo.min_salary = this.min_salary
              this.expectInfo.max_salary = this.max_salary
              $.ajax({
                url: window.lagou + '/jianli/index/addExpectInfo',
                method: 'post',
                data: this.expectInfo,
                dataType: 'json',
                xhrFields: {
                  withCredentials: "true"
                },
                success: (res) => {
                  _this.changeSwitchs('expectInfo')
                },
                error: (res) => {

                }
              })
            }
          })
        },
        cancleEdit(val) {
          this.template[val] = JSON.parse(JSON.stringify(setJsonToNull(this.template[val])))
          this.switchs[val] = !this.switchs[val]
          this.time.startTime = ''
          this.time.endTime = ''
        },
        saveSelfDescripton() {
          $(".descriptionForm").validate({
            rules: {
              selfDescription: {
                required: true
              }
            },
            messages: {
              selfDescription: {
                required: '请输入您的自我描述'
              }
            },
            submitHandler: (form) => {
              $.ajax({
                url: window.lagou + '/jianli/index/addExpectInfo',
                method: 'post',
                xhrFields: {
                  withCredentials: "true"
                },
                dataType: 'json',
                data: { self_describe: this.self_describe },
                success: (res) => {
                  if (res == 1) {
                    this.changeSwitchs('self_describe')
                  }
                },
                error: (res) => {

                }
              })
            }
          })
        },
        saveWorks() {
          this.works.jianId = this.jianId
          $(".workForm").validate({
            rules: {
              workLink: {
                required: true
              },
              workDescription: {
                required: true
              }
            },
            messages: {
              workLink: {
                required: '请输入作品链接'
              },
              workDescription: {
                required: '请输入作品说明'
              }
            },
            submitHandler: (form) => {
              $.ajax({
                url: window.lagou + '/jianli/index/addWorkShow',
                dataType: 'json',
                data: this.works,
                method: 'post',
                xhrFields: {
                  withCredentials: "true"
                },
                success: (res) => {
                  this.changeSwitchs('works')
                },
                error: (res) => {

                }
              })
            }
          })
        },
        saveProjectDesc() {
          $(".projectForm").validate({
            rules: {
              projectName: {
                required: true
              },
              thePost: {
                required: true
              },
              startTime: {
                required: true,
              },
              endTime: {
                required: true,
                min: this.project_experience.startTime
              },
              projectDescription: {
                required: true
              }
            },
            messages: {
              projectName: {
                required: '请输入项目名称'
              },
              thePost: {
                required: '请输入在项目中担任的职务'
              },
              startTime: {
                required: '请选择开始时间'
              },
              endTime: {
                required: '请选择结束时间',
                min: '结束时要大于开始时间'
              },
              projectDescription: {
                required: '请输入项目描述'
              }
            },
            submitHandler: (form) => {
              this.template.project_experience.jianId = this.jianId
              this.template.project_experience.startTime = this.time.startTime
              this.template.project_experience.endTime = this.time.endTime
              $.ajax({
                url: window.lagou + '/jianli/index/updateProject',
                method: 'post',
                dataType: 'json',
                data: clearParams(this.template.project_experience),
                xhrFields: {
                  withCredentials: "true"
                },
                success: (res) => {
                  if (this.optionIndex !== '') {
                    this.project_experience[this.optionIndex] = JSON.parse(JSON.stringify(this.template.project_experience))
                  } else {
                    this.project_experience.push(JSON.parse(JSON.stringify(this.template.project_experience)))
                  }
                  this.optionIndex = ''
                  this.time.startTime = ''
                  this.time.endTime = ''
                  this.template.project_experience = setJsonToNull(this.template.project_experience)
                  this.changeSwitchs('project_experience')
                },
                error: (res) => {

                }
              })
            }
          })
        },
        saveEducation() {
          $(".educationalForm").validate({
            rules: {
              schoolName: {
                required: true
              },
              education: {
                required: true
              },
              majorName: {
                required: true
              },
              startTime: {
                required: true
              },
              endTime: {
                required: true
              }
            },
            messages: {
              schoolName: {
                required: '请输入学校名字'
              },
              education: {
                required: '请选择学历'
              },
              majorName: {
                required: '请输入专业名称'
              },
              startTime: {
                required: '请选择开始时间'
              },
              endTime: {
                required: '请选择结束时间'
              }
            },
            submitHandler: (form) => {
              this.template.education.jianId = this.jianId
              this.template.education.startTime = this.time.startTime
              this.template.education.endTime = this.time.endTime
              $.ajax({
                url: window.lagou + '/jianli/index/updateEducation',
                dataType: 'json',
                data: clearParams(this.template.education),
                method: 'post',
                xhrFields: {
                  withCredentials: "true"
                },
                success: (res) => {
                  if (res.id) {
                    this.template.education.id = res.id
                  }
                  if (this.optionIndex !== '') {
                    this.education[this.optionIndex] = JSON.parse(JSON.stringify(this.template.education))
                  } else {
                    this.education.push(JSON.parse(JSON.stringify(this.template.education)))
                  }
                  this.optionIndex = ''
                  this.time.startTime = ''
                  this.time.endTime = ''
                  this.template.education = setJsonToNull(this.template.education)
                  this.changeSwitchs('education')
                },
                error: (res) => {

                }
              })
            }
          })
        },
        saveWorkExperience() {
          $(".experienceForm").validate({
            rules: {
              companyName: {
                required: true
              },
              jobName: {
                required: true
              },
              startTime: {
                required: true
              },
              endTime: {
                required: true,
                min: this.work_experience.startTime
              }
            },
            messages: {
              companyName: {
                required: '请输入公司名称'
              },
              jobName: {
                required: '请输入职位名称'
              },
              startTime: {
                required: '请选择开始时间'
              },
              endTime: {
                required: '请选择结束时间',
                min: '结束时间要大于开始时间'
              }
            },
            submitHandler: (form) => {
              this.template.work_experience.jianId = this.jianId
              $.ajax({
                url: window.lagou + '/jianli/index/updateWorkExperience',
                dataType: 'json',
                data: clearParams(this.template.work_experience),
                method: 'post',
                xhrFields: {
                  withCredentials: "true"
                },
                success: (res) => {
                  if (res.id) {
                    this.template.work_experience.id = res.id
                  }
                  if (this.optionIndex !== '') {
                    this.work_experience[this.optionIndex] = JSON.parse(JSON.stringify(this.template.work_experience))
                  } else {
                    this.work_experience.push(JSON.parse(JSON.stringify(this.template.work_experience)))
                  }
                  this.optionIndex = ''
                  this.time.startTime = ''
                  this.time.endTime = ''
                  this.template.work_experience = setJsonToNull(this.template.work_experience)
                  this.changeSwitchs('work_experience')
                },
                error: (res) => {

                }
              })
            }
          })
        }
      },
      mounted() {
        this.checkCookie()
        this.getUserInfo()
        this.checkJianLi()
        this.getJianliInfo()
        $("#box_expectCity dl dd span").on('click', (el) => {
          this.expectInfo.expectCity = el.currentTarget.innerHTML
          this.changeStatus('citys')
        })
      }
    })
  </script>
</body>

</html>